custom_card_mediaplayer:
  show_name: false
  show_icon: false
  aspect_ratio: 1/1
  styles:
    grid:
      - grid-template-areas: |
          "cover cover cover"
          "artist_info artist_info artist_info"
          "prev_button play_button next_button"
      - grid-template-columns: 1fr 1fr 1fr
      - grid-template-rows: 2fr 1fr 1fr
    card:
      - padding: 25px
      - background: none
      - box-shadow: none
    custom_fields:
      play_button:
        - align-self: end
        - opacity: 0.7
      next_button:
        - align-self: end
        - opacity: 0.7
      prev_button:
        - align-self: end
        - opacity: 0.7
      artist_info:
        - justify-self: center
        - align-self: end
      background_cover:
        - position: absolute
        - top: '-5%'
        - left: '-5%'
        - height: 110%
        - transform: scale(1)
        - transform-origin: top left
        - filter: blur(15px)
        - width: 110%
        - background: |
            [[[
              if (entity.attributes.media_title == undefined || entity.attributes.entity_picture == undefined){
                return 'linear-gradient(45deg, rgba(0,0,0,.7) 30%, rgba(0,0,0,0.3) 100%), center / cover no-repeat url("/local/music/abstract-wave.gif")';
              } else {
                return 'linear-gradient(45deg, rgba(0,0,0,.7) 30%, rgba(0,0,0,0.3) 100%), center / cover no-repeat url("' + states[entity.entity_id].attributes.entity_picture + '")';
              }
            ]]]
  custom_fields:
    background_cover: .
    cover:
      card:
        type: custom:button-card
        entity: '[[[ return entity.entity_id ]]]'
        show_icon: false
        show_name: false
        show_entity_picture: true
        styles:
          card:
            - background: none
            - overflow: visible
          icon:
            - border-radius: var(--border-radius)
            - box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;
          img_cell:
            - overflow: visible
    artist_info:
      card:
        type: custom:button-card
        name: >
          [[[
            if (entity.attributes.media_artist == undefined) {
              return "Er wordt niks afgespeeld"
            } else {
              return states[ entity.entity_id ].attributes.media_artist
            }
          ]]]
        label: |
          [[[ return states[ entity.entity_id ].attributes.media_title ]]]
        show_icon: false
        show_label: true
        styles:
          grid:
            - grid-template-areas: '''l l'' ''n n'''
            - grid-template-columns: min-content min-content
          card:
            - background: none
          name:
            - color: white
            - font-family: montserrat
            - font-weight: 400
            - text-wrap: wrap
          label:
            - width: 300px
            - color: white
            - font-family: montserrat
            - font-weight: 700
            - text-wrap: wrap
    play_button:
      card:
        type: custom:button-card
        icon: mdi:play
        styles:
          card:
            - padding: 0
            - background: none
          icon:
            - width: 28px
            - color: white
          img_cell:
            - width: 30px
    next_button:
      card:
        type: custom:button-card
        icon: mdi:skip-next
        styles:
          card:
            - padding: 0
            - background: none
            - align-self: start
          icon:
            - width: 30px
            - color: white
          img_cell:
            - width: 30px
            - justify-self: end
    prev_button:
      card:
        type: custom:button-card
        icon: mdi:skip-previous
        styles:
          card:
            - padding: 0
            - background: none
          icon:
            - width: 30px
            - color: white
          img_cell:
            - width: 30px
            - justify-self: start